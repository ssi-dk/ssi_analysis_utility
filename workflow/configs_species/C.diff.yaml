###################### BACTERIAL SPECIES ###################################
# This config defines analyses for the specified bacterial species e.g E.Coli  
# and associated parameters.


analyses_to_run: 

    kmeraligner:
        status : False
        Title : Kmer Aligner on two pair reads
        ID: 90
        additional_option : -matrix 
        database : resources/plasmidfinder_db/enterobacteriales
        wrangler: workflow/scripts/KMA_wrangler.py

    Cdiff_KMA_Toxin:
        status : True
        Title : Kmer Aligner for Clostridium difficile Toxin detection
        ID: 91
        additional_option : -ref_fsa -nf -sam 4 -vcf 2 
        database : resources/Clostridioides_difficile_db/Toxin/

    emm_typing: 
        status : False
        Title: Typing of M protein gene using blast against CDC curated alleles
        cov_threshold: 90
        emm_allele_file: resources/emm_typing/emm_alleles.fasta  # Fasta file with emm alleles
        emm_cluster_file: resources/emm_typing/emm_enn_mrp_subgroups.txt  # File with emm allele clusters
        
    assembly_lineage_determination: 
        status : False
        Title: Lineage determination based on presence of specified SNPs when mapping genome assembly against reference genome
        percent_snp_threshold: 50
        nucmerargs : "\"\""
        deltafilterargs : "\"-q -r -o 100\""
        reference_fasta_file: resources/lineage_determination/MGAS5005.fasta
        lineage_variant_file: resources/lineage_determination/Spyogenes_LOCs.tsv
        
    virulence_gene_detection: 
        status : False
        Title: Presence of Streptococcal virulence genes from the Virulence Factor Database

    plasmidfinder: 
        status : False
        Title : Plasmidfinder
        database: resources/plasmidfinder_db/  # Path to PlasmidFinder database

    resfinder: 
        status : False 
        Title : Resfinder
        resfinder_db: resources/resfinder_db/ # ResFinder database for AMR detection
        pointfinder_db: resources/pointfinder_db/  # PointFinder database for AMR point mutations
        disinfinder_db: resources/disinfinder_db/  # DisinFinder database for disinfectant resistance

    virulencefinder : 
        status : False
        Title : Virulence finder
        database: resources/virulencefinder_db  # VirulenceFinder database

    LRE-finder: 
        status : False
        Title : LRE-Finder
        min_consensus_ID : 80
        additional_option : -1t1 -cge -matrix
        database: resources/lre-finder_db/elm  # Database for LRE-finder

    serotypefinder :
        status : False
        Title : Serotypefinder
        database: resources/serotypefinder_db/  # SerotypeFinder database
    
    kleborate : 
        status : False
        Title : Kleborate
        preset : kpsc

    CHtyper : 
        status : False
        Title: Chtyper
        threshold : 0.90
        coverage : 0.60
        database: resources/chtyper_db/  # CHTyper database

    cgMLSTFinder : 
        status : False
        Title : cgMLST
        scheme : ecoli # choose between  salmonella,campylobacter,yersinia,clostridium,ecoli
        database: resources/cgmlstfinder_db/  # cgMLSTFinder database

    amrfinder:
        status : False
        Title : NCBI resistance gene finder
        organism: --organism Clostridioides difficile # Leave blank or insert --organism alongside one of the supported organisms, listed here: https://github.com/evolarjun/amr/wiki/Curated-organisms
        wrangler: workflow/scripts/AMR_wrangler.py

    mlst:
        status : False
        Title : MLST by Torsten Seeman
    
    skesa:
        status : True

    samtools_view:
        status : True
        Title : samtools filtering
        ID: 91
        additional_option : -b -q 20 -F 4 
        # https://broadinstitute.github.io/picard/explain-flags.html
        # 4 (unmapped) + 256 (not primary alignment) + 512 (failed quality) + 1024 (duplicate) + 2048 (supplementary) = 3844
        # Consider removing reads which is not in proper pair #3844

    samtools_sort:
        status : True
        Title : samtools sort
        ID: 91
        additional_option : -n 
    
    samtools_idx:
        status : True
        Title : samtools index
        ID: 91

    bcftools_genotypecall:
        status : True
        Title : bcftools mpileup | bcftools call
        ID: 91