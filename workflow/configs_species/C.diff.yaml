###################### BACTERIAL SPECIES ###################################
# This config defines analyses for the specified bacterial species e.g E.Coli  
# and associated parameters.

alignment_database: 

    kmeraligner:
        db: setup_CdiffToxin
        kma_db_prefix: Cdiff_Toxin
        kma_index_flag: Clostridioides_difficile_db_Toxin
        fa_idx_flag: Clostridioides_difficile_db_Toxin

    plasmidfinder:
        db: setup_PlasmidFinder
        kma_index_flag: plasmidfinder_db

    resfinder:
        db: setup_ResFinder
        kma_index_flag: resfinder_db

    pointfinder:
        db: setup_PointFinder
        kma_index_flag: pointfinder_db

    disinfinder:
        db: setup_DisinFinder
        kma_index_flag: disinfinder_db

    virulencefinder:
        db: setup_VirulenceFinder
        kma_index_flag: virulencefinder_db

    serotypefinder:
        db: setup_SerotypeFinder
        kma_index_flag: serotypefinder_db

analyses_to_run: 

    kmeraligner:
        Title : Kmer Aligner on two pair reads
        ID: 90
        additional_option: -nc -ref_fsa -nf -sam 4
        status: True

    KMA_filter:
        Title : Kmer Aligner for Clostridium difficile Toxin detection
        ID: 92
        input_folder: kmeraligner
        additional_option : --Gene_list tcdA tcdB tcdC cdtAB --organism "Clostridioides difficile" --suffix tsv
        thresholds:
            tcdA: [90, 90, 10]
            tcdB: [90, 90, 10]
            tcdC: [90, 90, 10]
            cdtAB: [90, 90, 10]
            other: [98, 98, 10]
        status: True

    virulence_gene_detection: 
        Title: Presence of Streptococcal virulence genes from the Virulence Factor Database
        status: False

    plasmidfinder: 
        Title : Plasmidfinder
        database: resources/plasmidfinder_db/  # Path to PlasmidFinder database
        status: False

    resfinder: 
        Title : Resfinder
        resfinder_db: resources/resfinder_db/ # ResFinder database for AMR detection
        pointfinder_db: resources/pointfinder_db/  # PointFinder database for AMR point mutations
        disinfinder_db: resources/disinfinder_db/  # DisinFinder database for disinfectant resistance
        status: False

    virulencefinder : 
        Title : Virulence finder
        database: resources/virulencefinder_db  # VirulenceFinder database
        status: False

    serotypefinder :
        Title : Serotypefinder
        database: resources/serotypefinder_db/  # SerotypeFinder database
        status: False

    amrfinder:
        Title : NCBI resistance gene finder
        organism: --organism Clostridioides_difficile # Leave blank or insert --organism alongside one of the supported organisms, listed here: https://github.com/evolarjun/amr/wiki/Curated-organisms
        status: False

    spades:
        Title : spades assembly
        status: False

    skesa:
        Title : skesa assembly
        status: True

    Repeat_identifier:
        Title : Repeat identifier
        ID: 92
        repeats: TR6 TR10
        combos: TRST 
        database: resources/Clostridioides_difficile_db/TRST
        status: True

    samtools_view:
        additional_option : -b -q 20 -F 4 
        status: True

    samtools_sort:
        additional_option : -n 
        status: True

    samtools_idx:
        Title : samtools index
        status: True

    bcftools_view_filter:
        additional_option: -v indels -i 'INFO/DP>10'
        region: AM180355.1_tcdC_804309_805008
        status: True

    bcftools_index:
        Title : bcftools index
        status: True

    bcftools_mpileup:
        Title : bcftools mpileup
        status: True

    bcftools_call:
        Title : spades assembly
        status: True

    Variant_detection:
        Title : Detecting variants for C.diff 
        ID: 93
        additional_option : --gene_list tcdC --organism "Clostridioides difficile" --suffix tsv
        genomic_coord : resources/Clostridioides_difficile_db/Toxin/Cdiff_Toxin.bed6
        snp_info: #https://pubmed.ncbi.nlm.nih.gov/24374512/
            snp_117: [117,"A","T","tcdC","-"] # [genomic position within the loci, reference, alternative]
            snp_184: [184,"C","T","tcdC","-"]
        deletion_regions:
            del330_347_18: [330, 347] # [coordinate start within the region, coordinate end within the region , percent N in consensus region]
            del301_336_36: [301, 336]
            del341_379_39: [341, 379]
            del313_366_54: [313, 366]
        deletion_consensus_thresholds:
            del330_347_18: [70]
            del301_336_36: [70]
            del341_379_39: [70]
            del313_366_54: [70]
        variant_gt_thresholds:
            del330_347_18: [0.10,5,10]
            del301_336_36: [0.10,5,10]
            del341_379_39: [0.10,5,10]
            del313_366_54: [0.10,5,10]
        status: True
